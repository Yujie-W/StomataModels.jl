<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · StomataModels</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">StomataModels</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Stomatal-model-schemes"><span>Stomatal model schemes</span></a></li><li><a class="tocitem" href="#CanopyLayer"><span>CanopyLayer</span></a></li><li><a class="tocitem" href="#Stomatal-conductance"><span>Stomatal conductance</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/Yujie-W/StomataModels.jl/blob/master/docs/src/API.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="StomtaModels-API"><a class="docs-heading-anchor" href="#StomtaModels-API">StomtaModels API</a><a id="StomtaModels-API-1"></a><a class="docs-heading-anchor-permalink" href="#StomtaModels-API" title="Permalink"></a></h1><h2 id="Stomatal-model-schemes"><a class="docs-heading-anchor" href="#Stomatal-model-schemes">Stomatal model schemes</a><a id="Stomatal-model-schemes-1"></a><a class="docs-heading-anchor-permalink" href="#Stomatal-model-schemes" title="Permalink"></a></h2><p>The StomataModels module relies mainly on Photosynthesis and PlantHydraulics     modules to predict stomatal behavior from plant physiology. This module has     both empirical and optimal stomatal models. These stomatal models are     abstractized to an abstract <a href="#StomataModels.AbstractStomatalModel"><code>AbstractStomatalModel</code></a>, which further     has subtypes <a href="#StomataModels.EmpiricalStomatalModel"><code>EmpiricalStomatalModel</code></a> and     <a href="#StomataModels.OptimizationStomatalModel"><code>OptimizationStomatalModel</code></a>.</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.AbstractStomatalModel" href="#StomataModels.AbstractStomatalModel"><code>StomataModels.AbstractStomatalModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">type AbstractStomatalModel</code></pre><p>Hierarchy of the <code>AbstractStomatalModel</code>:</p><ul><li><a href="#StomataModels.EmpiricalStomatalModel"><code>EmpiricalStomatalModel</code></a></li><li><a href="#StomataModels.OptimizationStomatalModel"><code>OptimizationStomatalModel</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/types/stomatalmodel.jl#L20-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.EmpiricalStomatalModel" href="#StomataModels.EmpiricalStomatalModel"><code>StomataModels.EmpiricalStomatalModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">type EmpiricalStomatalModel</code></pre><p>Hierarchy of the <code>EmpiricalStomatalModel</code>:</p><ul><li><a href="#StomataModels.ESMBallBerry"><code>ESMBallBerry</code></a></li><li><a href="#StomataModels.ESMGentine"><code>ESMGentine</code></a></li><li><a href="#StomataModels.ESMLeuning"><code>ESMLeuning</code></a></li><li><a href="#StomataModels.ESMMedlyn"><code>ESMMedlyn</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/types/stomatalmodel.jl#L32-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.OptimizationStomatalModel" href="#StomataModels.OptimizationStomatalModel"><code>StomataModels.OptimizationStomatalModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">type OptimizationStomatalModel</code></pre><p>Hierarchy of the <code>OptimizationStomatalModel</code>:</p><ul><li><a href="#StomataModels.OSMEller"><code>OSMEller</code></a></li><li><a href="#StomataModels.OSMSperry"><code>OSMSperry</code></a></li><li><a href="#StomataModels.OSMWang"><code>OSMWang</code></a></li><li><a href="#StomataModels.OSMWAP"><code>OSMWAP</code></a></li><li><a href="#StomataModels.OSMWAPMod"><code>OSMWAPMod</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/types/stomatalmodel.jl#L139-L148">source</a></section></article><p>Currently, the StomataModels module has four empirical model schemes, and they     are</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.ESMBallBerry" href="#StomataModels.ESMBallBerry"><code>StomataModels.ESMBallBerry</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct ESMBallBerry{FT}</code></pre><p>An empirical model parameter set type for Ball-Berry type model. The equation used for Ball-Berry type model is</p><p class="math-container">\[gs = g0 + g1 ⋅ RH ⋅ \dfrac{A}{Cs}\]</p><p><strong>Fields</strong></p><ul><li><p><code>g0</code></p><p>minimal stomatal conductance g0 <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g1</code></p><p>slope of conductance-photosynthesis correlation <code>[unitless]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.ESMGentine" href="#StomataModels.ESMGentine"><code>StomataModels.ESMGentine</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct ESMGentine{FT}</code></pre><p>An empirical model parameter set type for Gentine type model. The equation used for Gentine type model is</p><p class="math-container">\[gs = g0 + g1 ⋅ \dfrac{k_{leaf}}{k_{max}} ⋅ \dfrac{A}{Ca}.\]</p><p>Note it that the Gentine model does not require for a <code>β</code> function to tune the     soil drought response, but the use of <code>k_leaf</code> also does not permit     post-drought stomatal response unless <code>k_leaf</code> can be recovered.</p><p><strong>Fields</strong></p><ul><li><p><code>g0</code></p><p>minimal stomatal conductance g0 <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g1</code></p><p>slope of conductance-photosynthesis correlation <code>[unitless]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L14">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.ESMLeuning" href="#StomataModels.ESMLeuning"><code>StomataModels.ESMLeuning</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct ESMLeuning{FT}</code></pre><p>An empirical model parameter set type for Leuning type model. The equation used for Leuning type model is</p><p class="math-container">\[gs = g0 + g1 ⋅ \dfrac{A}{Cs - Γ^{*}} ⋅ \dfrac{1}{1 + \dfrac{VPD}{d0}}\]</p><p><strong>Fields</strong></p><ul><li><p><code>g0</code></p><p>minimal stomatal conductance g0 <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g1</code></p><p>slope of conductance-photosynthesis correlation <code>[unitless]</code></p></li><li><p><code>d0</code></p><p>fitting parameter of d/d0 below the fraction, same unit as vpd <code>[Pa]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.ESMMedlyn" href="#StomataModels.ESMMedlyn"><code>StomataModels.ESMMedlyn</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct ESMMedlyn{FT}</code></pre><p>An empirical model parameter set type for Medlyn type model. The equation used in Medlyn type model is</p><p class="math-container">\[gs = g0 + 1.6 ⋅ \left( 1 + \dfrac{g1}{\sqrt{VPD}} \right) ⋅ \dfrac{A}{Ca}\]</p><p><strong>Fields</strong></p><ul><li><p><code>g0</code></p><p>minimal stomatal conductance g0 <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g1</code></p><p>slope of conductance-photosynthesis correlation <code>[Pa⁽⁵⁾]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L11">source</a></section></article><p>All the empirical models rely on beta functions to make corrections over     stomatal conductance to account for the stomatal closure with drier soil.     We have the following prescribed beta function types, and they are:</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.AbstractBetaFunction" href="#StomataModels.AbstractBetaFunction"><code>StomataModels.AbstractBetaFunction</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractBetaFunction{FT}</code></pre><p>Hierachy of AbstractBetaFunction:</p><ul><li><a href="#StomataModels.AbstractBetaG"><code>AbstractBetaG</code></a><ul><li><a href="#StomataModels.BetaGLinearPleaf"><code>BetaGLinearPleaf</code></a></li><li><a href="#StomataModels.BetaGLinearPsoil"><code>BetaGLinearPsoil</code></a></li><li><a href="#StomataModels.BetaGLinearSWC"><code>BetaGLinearSWC</code></a></li></ul></li><li><a href="#StomataModels.AbstractBetaV"><code>AbstractBetaV</code></a><ul><li><a href="#StomataModels.BetaVLinearPleaf"><code>BetaVLinearPleaf</code></a></li><li><a href="#StomataModels.BetaVLinearPsoil"><code>BetaVLinearPsoil</code></a></li><li><a href="#StomataModels.BetaVLinearSWC"><code>BetaVLinearSWC</code></a></li></ul></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/types/beta.jl#L6-L18">source</a></section></article><p>Some beta functions make correction over the <code>g1</code> parameter as in the empitical     models, and they are:</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.AbstractBetaG" href="#StomataModels.AbstractBetaG"><code>StomataModels.AbstractBetaG</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractBetaG{FT}</code></pre><p>Hierachy of AbstractBetaG:</p><ul><li><a href="#StomataModels.BetaGLinearPleaf"><code>BetaGLinearPleaf</code></a></li><li><a href="#StomataModels.BetaGLinearPsoil"><code>BetaGLinearPsoil</code></a></li><li><a href="#StomataModels.BetaGLinearSWC"><code>BetaGLinearSWC</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/types/beta.jl#L33-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.BetaGLinearPleaf" href="#StomataModels.BetaGLinearPleaf"><code>StomataModels.BetaGLinearPleaf</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct BetaGLinearPleaf{FT}</code></pre><p>Linear β function for g1 based on soil water potential.</p><p><strong>Fields</strong></p><ul><li><p><code>p_max</code></p><p>Upper bound of Pleaf <code>[MPa]</code></p></li><li><p><code>p_min</code></p><p>Lower bound of Pleaf <code>[MPa]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.BetaGLinearPsoil" href="#StomataModels.BetaGLinearPsoil"><code>StomataModels.BetaGLinearPsoil</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct BetaGLinearPsoil{FT}</code></pre><p>Linear β function for g1 based on soil water potential.</p><p><strong>Fields</strong></p><ul><li><p><code>p_max</code></p><p>Upper bound of Psoil <code>[MPa]</code></p></li><li><p><code>p_min</code></p><p>Lower bound of Psoil <code>[MPa]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.BetaGLinearSWC" href="#StomataModels.BetaGLinearSWC"><code>StomataModels.BetaGLinearSWC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct BetaGLinearSWC{FT}</code></pre><p>Linear β function for g1 based on soil water content.</p><p><strong>Fields</strong></p><ul><li><p><code>swc_max</code></p><p>Upper bound of SWC</p></li><li><p><code>swc_min</code></p><p>Lower bound of SWC</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><p>Some beta functions make correction over the photosynthetic capacity as in the     Photosynthesis module, and they are:</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.AbstractBetaV" href="#StomataModels.AbstractBetaV"><code>StomataModels.AbstractBetaV</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">abstract type AbstractBetaV{FT}</code></pre><p>Hierachy of AbstractBetaV:</p><ul><li><a href="#StomataModels.BetaVLinearPleaf"><code>BetaVLinearPleaf</code></a></li><li><a href="#StomataModels.BetaVLinearPsoil"><code>BetaVLinearPsoil</code></a></li><li><a href="#StomataModels.BetaVLinearSWC"><code>BetaVLinearSWC</code></a></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/types/beta.jl#L109-L116">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.BetaVLinearPleaf" href="#StomataModels.BetaVLinearPleaf"><code>StomataModels.BetaVLinearPleaf</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct BetaVLinearPleaf{FT}</code></pre><p>Linear β function for g1 based on soil water potential.</p><p><strong>Fields</strong></p><ul><li><p><code>p_max</code></p><p>Upper bound of Pleaf <code>[MPa]</code></p></li><li><p><code>p_min</code></p><p>Lower bound of Pleaf <code>[MPa]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.BetaVLinearPsoil" href="#StomataModels.BetaVLinearPsoil"><code>StomataModels.BetaVLinearPsoil</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct BetaVLinearPsoil{FT}</code></pre><p>Linear β function for Vcmax based on soil water potential.</p><p><strong>Fields</strong></p><ul><li><p><code>p_max</code></p><p>Upper bound of Psoil <code>[MPa]</code></p></li><li><p><code>p_min</code></p><p>Lower bound of Psoil <code>[MPa]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.BetaVLinearSWC" href="#StomataModels.BetaVLinearSWC"><code>StomataModels.BetaVLinearSWC</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">mutable struct BetaVLinearSWC{FT}</code></pre><p>Linear β function for Vcmax based on soil water content.</p><p><strong>Fields</strong></p><ul><li><p><code>swc_max</code></p><p>Upper bound of SWC</p></li><li><p><code>swc_min</code></p><p>Lower bound of SWC</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><p>The beta functions are generalized with</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.β_factor" href="#StomataModels.β_factor"><code>StomataModels.β_factor</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">β_factor(bt::AbstractBetaFunction{FT},
         pl::FT,
         ps::FT,
         swc::FT) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the β correction factor, given</p><ul><li><code>bt</code> <a href="#StomataModels.AbstractBetaFunction"><code>AbstractBetaFunction</code></a> type struct</li><li><code>pl</code> Leaf water potential <code>[MPa]</code></li><li><code>ps</code> Soil water potential <code>[MPa]</code></li><li><code>swc</code> Soil water content</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/empirical/beta.jl#L6-L17">source</a></section></article><p>The StomataModels module also contains five optimization model schemes:</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.OSMEller" href="#StomataModels.OSMEller"><code>StomataModels.OSMEller</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct OSMEller</code></pre><p>An optimization model parameter set type for Eller model. The equation used for Eller model is</p><p class="math-container">\[\dfrac{∂Θ}{∂E} = -\dfrac{∂K}{∂E} ⋅ \dfrac{A}{K}\]</p><p>where K is <span>$\dfrac{∂E}{∂P}$</span>.</p><p><strong>Fields</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/types/stomatalmodel.jl#L154-L166">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.OSMSperry" href="#StomataModels.OSMSperry"><code>StomataModels.OSMSperry</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct OSMSperry</code></pre><p>An optimization model parameter set type for Sperry model. The equation used for Sperry model is</p><p class="math-container">\[\dfrac{∂Θ}{∂E} = -\dfrac{∂K}{∂E} ⋅ \dfrac{A_{max}}{K_{max}}\]</p><p>where K is <span>$\dfrac{∂E}{∂P}$</span>.</p><p><strong>Fields</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/types/stomatalmodel.jl#L172-L184">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.OSMWang" href="#StomataModels.OSMWang"><code>StomataModels.OSMWang</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct OSMWang</code></pre><p>An optimization model parameter set type for Eller type model. The equation used for Wang model is</p><p class="math-container">\[\dfrac{∂Θ}{∂E} = \dfrac{A}{E_{crit} - E}\]</p><p><strong>Fields</strong></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/types/stomatalmodel.jl#L190-L201">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.OSMWAP" href="#StomataModels.OSMWAP"><code>StomataModels.OSMWAP</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct OSMWAP{FT}</code></pre><p>An optimization model parameter set type for Wolf-Anderegg-Pacala type model. The equation used for Wolf-Anderegg-Pacala model is</p><p class="math-container">\[\dfrac{∂Θ}{∂E} = \dfrac{2aP + b}{K}\]</p><p>where K is ∂P/∂E.</p><p><strong>Fields</strong></p><ul><li><p><code>a</code></p><p>Quadratic equation parameter <code>[μmol m⁻² s⁻¹ MPa⁻²]</code></p></li><li><p><code>b</code></p><p>Quadratic equation parameter <code>[μmol m⁻² s⁻¹ MPa⁻¹]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L12">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.OSMWAPMod" href="#StomataModels.OSMWAPMod"><code>StomataModels.OSMWAPMod</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct OSMWAPMod{FT}</code></pre><p>An optimization model parameter set type for Wolf-Anderegg-Pacala type model,     modified by adding a photosynthesis component while set b and c = 0. The equation used for modified Wolf-Anderegg-Pacala model is</p><p class="math-container">\[\dfrac{∂Θ}{∂E} = \dfrac{aAP}{K}\]</p><p>where P is absolute value of leaf xylem pressure.</p><p><strong>Fields</strong></p><ul><li><p><code>a</code></p><p>Quadratic equation parameter <code>[mol mol⁻¹ MPa⁻¹]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L13">source</a></section></article><h2 id="CanopyLayer"><a class="docs-heading-anchor" href="#CanopyLayer">CanopyLayer</a><a id="CanopyLayer-1"></a><a class="docs-heading-anchor-permalink" href="#CanopyLayer" title="Permalink"></a></h2><p>The StomataModels module is designed for multi-layer canopies, and each canopy     has multiple leaves. The stomatal behaviors are modeled per layer basis,     and the layer may contain any number of leaves starting from 1.     Photosynthesis-related information is stored in <a href="#StomataModels.CanopyLayer"><code>CanopyLayer</code></a>     struct, but be aware that the leaves have uniform photosynthetic parameters     and temperature (conductances are different in response to light     environment).</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.CanopyLayer" href="#StomataModels.CanopyLayer"><code>StomataModels.CanopyLayer</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia">struct CanopyLayer{FT}</code></pre><p>Struct to store leaf information (multi-dimensional).</p><p><strong>Fields</strong></p><ul><li><p><code>ps</code></p><p>leaf photosynthesis system</p></li><li><p><code>LA</code></p><p>Total leaf area <code>[m²]</code></p></li><li><p><code>LAI</code></p><p>Total leaf area index in the layer</p></li><li><p><code>n_leaf</code></p></li><li><p><code>H</code></p><p>Sensible Heat Flux <code>[W m⁻²]</code></p></li><li><p><code>LE</code></p><p>Latent Heat Flux <code>[W m⁻²]</code></p></li><li><p><code>Rn</code></p><p>Net Radiation Balance <code>[W m⁻²]</code></p></li><li><p><code>LV</code></p><p>Latent Heat of evaporation <code>[J mol⁻¹]</code></p></li><li><p><code>T</code></p><p>Temperature <code>[K]</code></p></li><li><p><code>T_old</code></p><p>Old temperature <code>[K]</code></p></li><li><p><code>width</code></p><p>Leaf width <code>[m]</code></p></li><li><p><code>g_bc</code></p><p>Boundary layer conductance to CO₂ <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_bh</code></p><p>Boundary layer conductance to heat <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_bw</code></p><p>Boundary layer conductance to H₂O <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_lc</code></p><p>Leaf diffusive conductance to water CO₂ <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_lw</code></p><p>Leaf diffusive conductance to water H₂O <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_m</code></p><p>Mesophyll conductance for CO₂ <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_sc</code></p><p>Stomatal conductance to water CO₂ <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_sw</code></p><p>Stomatal conductance to water H₂O <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_ias_c</code></p><p>Gias correction constant</p></li><li><p><code>g_ias_e</code></p><p>Gias correction exponent</p></li><li><p><code>g_max</code></p><p>Maximal leaf diffusive conductance <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_max25</code></p><p>Maximal leaf diffusive conductance at 298.15 K <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_min</code></p><p>Minimal leaf diffusive conductance <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>g_min25</code></p><p>Minimal leaf diffusive conductance at 298.15 K <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>p_i</code></p><p>Leaf internal CO₂ partial pressure <code>[Pa]</code></p></li><li><p><code>p_s</code></p><p>Leaf surface CO₂ partial pressure <code>[Pa]</code></p></li><li><p><code>p_sat</code></p><p>Leaf saturation vapor pressure <code>[Pa]</code></p></li><li><p><code>Ac</code></p><p>RubisCO limited photosynthetic rate <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>Aj</code></p><p>Light limited photosynthetic rate <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>Ag</code></p><p>Gross photosynthetic rate <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>An</code></p><p>Net photosynthetic rate <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>Ap</code></p><p>Product limited photosynthetic rate <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>J</code></p><p>Electron transport <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>J_pot</code></p><p>Potential Electron Transport Rate <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>CO₂_per_electron</code></p><p>Total efficiency, incl. photorespiration <code>[mol CO₂ mol⁻¹ e-]</code></p></li><li><p><code>Fm′</code></p><p>light adapted yield (<code>Kp=0</code>)</p></li><li><p><code>Fo′</code></p><p>light-adapted fluorescence yield in the dark (<code>Kp=max</code>)</p></li><li><p><code>Ja</code></p><p>Actual electron transport rate <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>NPQ</code></p><p>Non-Photochemical quenching</p></li><li><p><code>qQ</code></p><p>Photochemical quenching</p></li><li><p><code>qE</code></p><p>energy quenching</p></li><li><p><code>φ</code></p><p>PSII yield</p></li><li><p><code>ϕs</code></p><p>Steady-state (light-adapted) yield (aka Fs)</p></li><li><p><code>Fm</code></p><p>dark adapted yield (<code>Kp=0</code>)</p></li><li><p><code>Fo</code></p><p>dark-adapted fluorescence yield (<code>Kp=max</code>)</p></li><li><p><code>APAR</code></p><p>Absorbed photosynthetic active radiation <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>LAIx</code></p><p>Leaf area fractions</p></li><li><p><code>a_max</code></p><p>Maximal photosynthetic rate <code>[μmol m⁻² s⁻¹]</code></p></li><li><p><code>e</code></p><p>Flow rate <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>ec</code></p><p>Critical flow rate <code>[mol m⁻² s⁻¹]</code></p></li><li><p><code>kr_max</code></p><p>Maximal hydraulic conductance ratio</p></li><li><p><code>p_ups</code></p><p>Base xylem pressre <code>[MPa]</code></p></li><li><p><code>p_old</code></p><p>Base xylem pressre memory <code>[MPa]</code></p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaLang/julia/blob/788b2c77c10c2160f4794a4d4b6b81a95a90940c/base/#L0-L7">source</a></section></article><h2 id="Stomatal-conductance"><a class="docs-heading-anchor" href="#Stomatal-conductance">Stomatal conductance</a><a id="Stomatal-conductance-1"></a><a class="docs-heading-anchor-permalink" href="#Stomatal-conductance" title="Permalink"></a></h2><p>For empirical stomatal models, the stomatal conductance is computed as the     intercept of two functions: an empirical function that describe stomatal     responses to the physiological and environmental cues and an function that     follows the diffusion nature of H₂O and CO₂. The abstractized function for     the empirical correlation is</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.empirical_gsw_from_model" href="#StomataModels.empirical_gsw_from_model"><code>StomataModels.empirical_gsw_from_model</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">empirical_gsw_from_model(model::EmpiricalStomatalModel{FT}, leaf::Leaf{FT}, envir::AirLayer{FT}, β::FT) where {FT&lt;:AbstractFloat}
empirical_gsw_from_model(model::EmpiricalStomatalModel{FT}, canopyi::CanopyLayer{FT}, envir::AirLayer{FT}, β::FT) where {FT&lt;:AbstractFloat}
empirical_gsw_from_model(model::EmpiricalStomatalModel{FT}, canopyi::CanopyLayer{FT}, envir::AirLayer{FT}, β::FT, ind::Int) where {FT&lt;:AbstractFloat}</code></pre><p>Steady state gsw from empirical approach given</p><ul><li><code>model</code> <a href="#StomataModels.EmpiricalStomatalModel"><code>EmpiricalStomatalModel</code></a> type empirical model parameter set</li><li><code>leaf</code> [<code>Leaf</code>] type struct</li><li><code>canopyi</code> <a href="#StomataModels.CanopyLayer"><code>CanopyLayer</code></a> type struct</li><li><code>envir</code> [<code>AirLayer</code>] type struct</li><li><code>β</code> Correction factor over the g1 part of an empirical model</li><li><code>ind</code> Nth leaf in the canopy layer</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/empirical/ballberry.jl#L6-L18">source</a></section></article><p>For optimization stomatal models, the stomatal conductance is computed as the     point where the marginal carbon gains equals the marginal carbon risk. The     marginal carbon gain and risk are generally numerically computed by     marginally increasing transpiration rate.</p><p>This module uses ConstrainedRootSolver module to iterate through the two     functions to find the solution. The aim is to find the stomatal conductance     when the <a href="#StomataModels.envir_diff!"><code>envir_diff!</code></a> function equals 0. The <a href="#StomataModels.envir_diff!"><code>envir_diff!</code></a>     returns the diference between real and model-predicted conductances for     empirical stomatal models, and the difference between marginal carbon gain     and risk for optimization stomatal models.</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.envir_diff!" href="#StomataModels.envir_diff!"><code>StomataModels.envir_diff!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">envir_diff!(x::FT,
            photo_set::AbstractPhotoModelParaSet{FT},
            canopyi::CanopyLayer{FT},
            hs::LeafHydraulics{FT},
            psoil::FT,
            swc::FT,
            envir::AirLayer{FT},
            sm::OptimizationStomatalModel{FT},
            bt::AbstractBetaFunction{FT},
            ind::Int) where {FT&lt;:AbstractFloat}
envir_diff!(x::FT,
            photo_set::AbstractPhotoModelParaSet{FT},
            canopyi::CanopyLayer{FT},
            hs::LeafHydraulics{FT},
            envir::AirLayer{FT},
            sm::AbstractStomatalModel{FT},
            ind::Int) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate the difference to be minimized for a given</p><ul><li><code>x</code> Assumed leaf diffusive conductance</li><li><code>photo_set</code>[<code>C3ParaSet</code>] or [<code>C4ParaSet</code>] type parameter set</li><li><code>canopyi</code><a href="#StomataModels.CanopyLayer"><code>CanopyLayer</code></a> type struct</li><li><code>hs</code> Leaf hydraulic system</li><li><code>psoil</code> Soil water potential <code>[MPa]</code></li><li><code>swc</code> Soil water content</li><li><code>envir</code>[<code>AirLayer</code>] type struct</li><li><code>sm</code> <a href="#StomataModels.EmpiricalStomatalModel"><code>EmpiricalStomatalModel</code></a> or <a href="#StomataModels.OptimizationStomatalModel"><code>OptimizationStomatalModel</code></a></li><li><code>bt</code> <a href="#StomataModels.AbstractBetaFunction"><code>AbstractBetaFunction</code></a> type struct</li><li><code>ind</code> Nth leaf in the canopy layer</li></ul><p>The former function works for Ball-Berry, Leuning, and Medlyn models, the     latter works for Gentine and all the optimization based models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/empirical/general.jl#L7-L40">source</a></section></article><p>In the <a href="#StomataModels.envir_diff!"><code>envir_diff!</code></a> function, leaf photosynthetic rates is modeled     using <a href="#StomataModels.update_leaf_from_glc!"><code>update_leaf_from_glc!</code></a>, which calculates the gas exchange     rates from a known total leaf diffusive conductance.</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.update_leaf_from_glc!" href="#StomataModels.update_leaf_from_glc!"><code>StomataModels.update_leaf_from_glc!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">update_leaf_from_glc!(photo_set::AbstractPhotoModelParaSet{FT}, canopyi::CanopyLayer{FT}, envir::AirLayer{FT}, ind::Int, glc::FT) where {FT&lt;:AbstractFloat}
update_leaf_from_glc!(photo_set::AbstractPhotoModelParaSet{FT}, canopyi::CanopyLayer{FT}, envir::AirLayer{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Update Nth leaf photosynthesis, given</p><ul><li><code>photo_set</code> [<code>C3ParaSet</code>] or [<code>C4ParaSet</code>] type parameter set</li><li><code>canopyi</code> <a href="#StomataModels.CanopyLayer"><code>CanopyLayer</code></a> type struct</li><li><code>envir</code> [<code>AirLayer</code>] type struct</li><li><code>ind</code> Nth leaf</li><li><code>glc</code> Given leaf diffusive conductance</li></ul><p>Note that this function does not make the gsw control, so it is not guaranteed     that gsw is within the physiological range. Thus, gsw control should be     made outside this function. This function is supposed to be used in the     optimal stomatl conductance models only, because optimal conductance can be     outside the physiological stomatal conductance range. Thus, using this     function for other purposes need to be cautious. In this case, it is     recommended to use <code>update_leaf_from_gsw!</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/gasexchange/update.jl#L6-L24">source</a></section></article><p>However, these functions do not force stomatal conductance to stay in its     ranges. For example, the stomatal conductance solution is set to be zero if     light is lower than the compensation point. In this case, the     <a href="#StomataModels.envir_diff!"><code>envir_diff!</code></a> function has to be used along with a control function     to guarantee realistic stomatal conductance.</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.leaf_gsw_control!" href="#StomataModels.leaf_gsw_control!"><code>StomataModels.leaf_gsw_control!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">leaf_gsw_control!(photo_set::AbstractPhotoModelParaSet{FT}, canopyi::CanopyLayer{FT}, envir::AirLayer{FT}, ind::Int) where {FT&lt;:AbstractFloat}
leaf_gsw_control!(photo_set::AbstractPhotoModelParaSet{FT}, canopyi::CanopyLayer{FT}, envir::AirLayer{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>make sure g_sw is in its physiological range limited by diffusion, given</p><ul><li><code>photo_set</code> [<code>C3ParaSet</code>] or [<code>C4ParaSet</code>] type parameter set</li><li><code>canopyi</code> <a href="#StomataModels.CanopyLayer"><code>CanopyLayer</code></a> type struct</li><li><code>envir</code> [<code>AirLayer</code>] type struct</li><li><code>ind</code> Nth leaf</li></ul><p>Note that this function is meant to use jointly with update<em>leaf</em>from_glc! when     computing optimal stomtal conductance.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/gasexchange/control.jl#L6-L18">source</a></section></article><p>To facilitate the use of the StomataModels module, an abstractized function is     provided for conveniently obtaining stomatal conductance from given     environmental conditions.</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.leaf_photo_from_envir!" href="#StomataModels.leaf_photo_from_envir!"><code>StomataModels.leaf_photo_from_envir!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">leaf_photo_from_envir!(
            photo_set::AbstractPhotoModelParaSet{FT},
            canopyi::CanopyLayer{FT},
            hs::LeafHydraulics{FT},
            psoil::FT,
            swc::FT,
            envir::AirLayer{FT},
            sm::EmpiricalStomatalModel{FT},
            bt::AbstractBetaFunction{FT}) where {FT&lt;:AbstractFloat}
leaf_photo_from_envir!(
            photo_set::AbstractPhotoModelParaSet{FT},
            canopyi::CanopyLayer{FT},
            hs::LeafHydraulics{FT},
            psoil::FT,
            swc::FT,
            envir::AirLayer{FT},
            sm::EmpiricalStomatalModel{FT},
            bt::AbstractBetaFunction{FT},
            ind::Int) where {FT&lt;:AbstractFloat}
leaf_photo_from_envir!(
            photo_set::AbstractPhotoModelParaSet{FT},
            canopyi::CanopyLayer{FT},
            hs::LeafHydraulics{FT},
            envir::AirLayer{FT},
            sm::AbstractStomatalModel{FT}) where {FT&lt;:AbstractFloat}
leaf_photo_from_envir!(
            photo_set::AbstractPhotoModelParaSet{FT},
            canopyi::CanopyLayer{FT},
            hs::LeafHydraulics{FT},
            envir::AirLayer{FT},
            sm::AbstractStomatalModel{FT},
            ind::Int) where {FT&lt;:AbstractFloat}</code></pre><p>Calculate steady state gsw and photosynthesis from empirical approach, given</p><ul><li><code>photo_set</code> [<code>C3ParaSet</code>] or [<code>C4ParaSet</code>] type parameter set</li><li><code>canopyi</code> <a href="#StomataModels.CanopyLayer"><code>CanopyLayer</code></a> type struct</li><li><code>hs</code> Leaf hydraulic system</li><li><code>envir</code> [<code>AirLayer</code>] type struct</li><li><code>sm</code> <a href="#StomataModels.EmpiricalStomatalModel"><code>EmpiricalStomatalModel</code></a> or <a href="#StomataModels.OptimizationStomatalModel"><code>OptimizationStomatalModel</code></a></li><li><code>bt</code> <a href="#StomataModels.AbstractBetaFunction"><code>AbstractBetaFunction</code></a> type struct</li><li><code>ind</code> Nth leaf in canopyi</li></ul><p>The former function works for Ball-Berry, Leuning, and Medlyn models, the     latter works for Gentine and all the optimization based models.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/empirical/general.jl#L134-L179">source</a></section></article><p>To speed up the calculations, leaf physiological parameters are updated only     if the environmental conditions changes. For example, PAR (photosyntheis     active radiation) is constant when we iterate <a href="#StomataModels.envir_diff!"><code>envir_diff!</code></a>, and     the electron transport is only updated once. Similar for the cases of     leaf temperature and soil moisture. This kind of functions used in the     present module are</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.update_leaf_TP!" href="#StomataModels.update_leaf_TP!"><code>StomataModels.update_leaf_TP!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">update_leaf_TP!(photo_set::AbstractPhotoModelParaSet{FT}, canopyi::CanopyLayer{FT}, hs::LeafHydraulics{FT}, envir::AirLayer{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Update leaf physiological parameters if temperature or pressure changes in the daytime, given</p><ul><li><code>photo_set</code> [<code>C3ParaSet</code>] or [<code>C4ParaSet</code>] type parameter set</li><li><code>canopyi</code> <a href="#StomataModels.CanopyLayer"><code>CanopyLayer</code></a> type struct</li><li><code>hs</code> Leaf hydraulic system</li><li><code>envir</code> [<code>AirLayer</code>] type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/gasexchange/refresh.jl#L6-L15">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StomataModels.update_leaf_AK!" href="#StomataModels.update_leaf_AK!"><code>StomataModels.update_leaf_AK!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">update_leaf_AK!(
        photo_set::AbstractPhotoModelParaSet{FT},
        canopyi::CanopyLayer{FT},
        hs::LeafHydraulics{FT},
        envir::AirLayer{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Update leaf maximal A and K for Sperry model, given</p><ul><li><code>photo_set</code> [<code>C3ParaSet</code>] or [<code>C4ParaSet</code>] type parameter set</li><li><code>canopyi</code> <a href="#StomataModels.CanopyLayer"><code>CanopyLayer</code></a> type struct</li><li><code>envir</code> [<code>AirLayer</code>] type struct</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/gasexchange/refresh.jl#L61-L72">source</a></section></article><p>I&#39;d like to emphasize it here that the <a href="#StomataModels.leaf_photo_from_envir!"><code>leaf_photo_from_envir!</code></a>     function only applies to the case of constant leaf temperature because     leaf energy budget is not calculated, and thus     <a href="#StomataModels.leaf_photo_from_envir!"><code>leaf_photo_from_envir!</code></a> is only applicable to (1) known leaf     temperature, and (2) prognostically modeling the non-steady state stomatal     behaviors. As to the steady state case, leaf energy budget has to be     considered. For the prognotic stomatal conductance, it is recommended to     use <a href="#StomataModels.update_leaf_from_gsw!"><code>update_leaf_from_gsw!</code></a> function.</p><article class="docstring"><header><a class="docstring-binding" id="StomataModels.update_leaf_from_gsw!" href="#StomataModels.update_leaf_from_gsw!"><code>StomataModels.update_leaf_from_gsw!</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">update_leaf_from_gsw!(photo_set::AbstractPhotoModelParaSet{FT}, canopyi::CanopyLayer{FT}, envir::AirLayer{FT}, ind::Int, gsw::FT) where {FT&lt;:AbstractFloat}
update_leaf_from_gsw!(photo_set::AbstractPhotoModelParaSet{FT}, canopyi::CanopyLayer{FT}, envir::AirLayer{FT}, ind::Int) where {FT&lt;:AbstractFloat}
update_leaf_from_gsw!(photo_set::AbstractPhotoModelParaSet{FT}, canopyi::CanopyLayer{FT}, envir::AirLayer{FT}) where {FT&lt;:AbstractFloat}</code></pre><p>Update Nth leaf photosynthesis, given</p><ul><li><code>photo_set</code> [<code>C3ParaSet</code>] or [<code>C4ParaSet</code>] type parameter set</li><li><code>canopyi</code> <a href="#StomataModels.CanopyLayer"><code>CanopyLayer</code></a> type struct</li><li><code>envir</code> [<code>AirLayer</code>] type struct</li><li><code>ind</code> Nth leaf</li><li><code>gsw</code> Given stomatal conductance to H₂O</li></ul><p>Note that this function makes the gsw control so that gsw is within the     physiological range.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Yujie-W/StomataModels.jl/blob/c1615217cd9f3f8de5794df32c36fca62933f587/src/gasexchange/update.jl#L94-L108">source</a></section></article><p>Note it here that stomtal conductance is controlled in this function, and thus     no additional control like <a href="#StomataModels.leaf_gsw_control!"><code>leaf_gsw_control!</code></a> is required if     <a href="#StomataModels.update_leaf_from_gsw!"><code>update_leaf_from_gsw!</code></a> is used.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 23 November 2020 20:09">Monday 23 November 2020</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
